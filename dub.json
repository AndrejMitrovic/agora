{
    "name": "agora",
    "description": "Node implementation for BOA CoinNet",

    "license": "MIT",
    "authors": [
        "Mathias 'Geod24' Lang"
    ],
    "copyright": "Copyright Â© 2019, BOS Platform Foundation Korea",

    "targetType": "executable",
    "targetPath": "build",
    "excludedSourceFiles": [ "source/scpd/quorum/QuorumIntersectionTests.d" ],

    "dflags": [ "-extern-std=c++14" ],
    "lflags-posix": [ "-lstdc++", "-lsqlite3" ],
    "lflags-windows": [  "sqlite3.lib", "/nodefaultlib:msvcetd.lib" ],
    "libs-windows": [ "iphlpapi" ],
    "buildRequirements": [ "allowWarnings" ],

	"toolchainRequirements": {
		"dmd": "no",
		"gdc": "no",
		"ldc": "~>1.19"
	},

    "configurations": [
        {
            "name": "server",
            "targetName": "agora",
            "mainSourceFile": "source/agora/node/main.d",
            "excludedSourceFiles": ["source/agora/cli/*/*", "source/agora/registry/main.d"]
        },
        {
            "name": "name-registry",
            "targetName": "name-registry",
            "mainSourceFile": "source/agora/registry/main.d",
            "excludedSourceFiles": ["source/agora/cli/*/*", "source/agora/node/main.d"]
        },
        {
            "name": "client",
            "targetName": "agora-client",
            "mainSourceFile": "source/agora/cli/client/main.d",
            "excludedSourceFiles": [
                "source/agora/api/Validator.d",
                "source/agora/common/Config.d",
                "source/agora/common/SCPHash.d",
                "source/agora/consensus/Quorum.d",
                "source/agora/network/NetworkClient.d",
                "source/agora/network/NetworkManager.d",
                "source/agora/node/*",
                "source/agora/utils/SCPPrettyPrinter.d",
                "source/agora/consensus/protocol/*",
                "source/agora/consensus/SCPEnvelopeStore.d",
                "source/agora/cli/checkvtable/*",
                "source/agora/cli/multi/*",
                "source/agora/cli/vanity/*",
                "source/agora/registry/main.d"
            ]
        },
        {
            "name": "unittest",
            "targetName": "agora-unittests",
            "excludedSourceFiles": ["source/agora/cli/*/main.d", "source/agora/registry/main.d"],
            "dflags-ldc": [ "--link-defaultlib-debug" ],
        },
        {
            "name": "multi",
            "targetName": "agora-multi",
            "mainSourceFile": "source/agora/cli/multi/main.d",
            "excludedSourceFiles": [
                "source/agora/cli/client/*",
                "source/agora/cli/vanity/*",
                "source/agora/node/main.d",
                "source/agora/registry/main.d"
            ]
        }
    ],

    "dependencies": {
        "base32":           { "path": "submodules/base32/", "version": "*" },
        "bitblob":          { "path": "submodules/bitblob/", "version": "*" },
        "dscp":             { "path": "submodules/dscp/", "version": "*" },
        "d2sqlite3":        { "path": "submodules/d2sqlite3/", "version": "*" },
        "dyaml":            { "path": "submodules/dyaml/", "version": "*" },
        "libsodiumd":       { "path": "submodules/libsodiumd/", "version": "*" },
        "localrest":        { "path": "submodules/localrest/", "version": "*" },
        "ocean":            { "path": "submodules/ocean/", "version": "*" },
        "vibe-d":           { "path": "submodules/vibe.d/", "version": "*" }
    }
}
